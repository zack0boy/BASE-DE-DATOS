<app-header></app-header>

<main class="container-ancho py-4">
  <h2 class="mb-3">Panel de Administrador</h2>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status"><span class="visually-hidden">Cargando...</span></div>
    <p class="mt-2">Cargando estadísticas...</p>
  </div>

  <!-- Main Stats Grid -->
  <div *ngIf="!isLoading" class="content">
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Total Asignaturas</h3>
        <div class="stat-value">{{ totalAsignaturas }}</div>
      </div>

      <div class="stat-card">
        <h3>Total Inscripciones</h3>
        <div class="stat-value">{{ totalInscripciones }}</div>
      </div>

      <div class="stat-card">
        <h3>Total Mensajes</h3>
        <div class="stat-value">{{ totalMensajes }}</div>
      </div>

      <div class="stat-card">
        <h3>Total Estudiantes</h3>
        <div class="stat-value">{{ totalEstudiantes }}</div>
      </div>

      <div class="stat-card">
        <h3>Total Docentes</h3>
        <div class="stat-value">{{ totalDocentes }}</div>
      </div>

      <div class="stat-card">
        <h3>Docentes Registrados</h3>
        <div class="stat-value">{{ totalDocentesRegistrados }}</div>
      </div>

      <div class="stat-card">
        <h3>Docentes Asignados</h3>
        <div class="stat-value">{{ totalDocentesAsignados }}</div>
      </div>

      <div class="stat-card">
        <h3>Promedio Inscripciones/Asignatura</h3>
        <div class="stat-value">{{ inscripcionesPromedio }}</div>
      </div>
    </div>

    <!-- Chart Section -->
    <div class="chart-container mt-5">
      <div class="chart-card">
        <h3>Resumen General de Estadísticas</h3>
        <canvas
          baseChart
          [type]="'doughnut'"
          [data]="chartData"
          [options]="chartOptions"
          class="chart"
        ></canvas>
      </div>
    </div>

    <div class="mt-4">
      <p class="text-muted">Estadísticas en tiempo real de la plataforma.</p>
    </div>
  </div>
</main>

<app-footer></app-footer>

